/* =============================================================
   Engagement Microsite Styles
   Lakshmikanth & Maanya
   ============================================================= */
:root {
  --indigo:#2F4B8A;
  --saffron:#F5B642;
  --green:#4B7F52;
  --off:#FAF7F2;
  --dark:#2B2B2E;
  --petal:#f2d9a6;
  --white:#FFFFFF;
  --radius:14px;
  --radius-sm:6px;
  --transition:0.6s cubic-bezier(.16,.8,.27,1);
  --font-sans:'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, 'Helvetica Neue', Arial, sans-serif;
  --font-head:'Poppins','Manrope', var(--font-sans);
  --font-accent:'Playfair Display', var(--font-head);
  --shadow:0 4px 16px -4px rgba(0,0,0,.16),0 2px 4px -2px rgba(0,0,0,.2);
  --gradient-hero:linear-gradient(135deg,#2F4B8A 0%, #5B7DDC 55%, #F5B642 100%);
  --bg-pattern:radial-gradient(circle at 8px 8px, rgba(245,182,66,0.15) 1px, transparent 1px), radial-gradient(circle at 28px 28px, rgba(47,75,138,0.08) 1px, transparent 1px);
  --focus-ring:0 0 0 3px rgba(245,182,66,.5),0 0 0 6px rgba(47,75,138,.4);
}

html {scroll-behavior:smooth;} 
body {
  margin:0; font-family:var(--font-sans); background:var(--off); color:var(--dark); line-height:1.5; -webkit-font-smoothing:antialiased;
  background-image:var(--bg-pattern); background-size:36px 36px, 36px 36px;
  overflow-x:hidden; /* prevent horizontal scroll */
}

body.dark {background:var(--dark); color:var(--off);} /* fallback toggle class (not used yet) */

h1, h2, h3, h4 {font-family:var(--font-head); line-height:1.15; letter-spacing:.5px;}
.accent-name {font-family:var(--font-accent); font-style:italic; font-weight:600;}

p {max-width:70ch;}
.lead {font-size:1.12rem;}

/* Hero */
#hero {min-height:100dvh; display:grid; place-items:center; text-align:center; position:relative; padding:4rem 1.25rem 3rem; background:var(--gradient-hero); color:var(--off); overflow:hidden;}
#hero:before {content:""; position:absolute; inset:0; background:linear-gradient( rgba(0,0,0,.15), rgba(47,75,138,.5) ); mix-blend-mode:overlay; pointer-events:none;}
.hero-inner {position:relative; z-index:1; max-width:960px;}
.hero-tagline {font-weight:500; margin-top:.5rem;}

/* Countdown */
#countdown {margin-top:2.25rem;}
.countdown-status {margin-bottom:1rem; font-size:.95rem; font-weight:500; letter-spacing:.5px; opacity:.9;}
.countdown-grid {display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr)); gap:1.25rem; max-width:900px; margin-inline:auto;}
.time-unit {background:rgba(255,255,255,.08); backdrop-filter:blur(6px); padding:1rem .75rem 1.25rem; border-radius:var(--radius); position:relative; box-shadow:0 2px 10px -4px rgba(0,0,0,.4);}
.time-unit .label {display:block; margin-top:.65rem; font-size:.8rem; letter-spacing:1px; text-transform:uppercase; font-weight:600;}

/* Rings */
.ring {width:90px; height:90px; display:block; margin:0 auto .5rem;}
.ring circle {fill:none; stroke-width:8;}
.ring .bg {stroke:rgba(255,255,255,.2);} 
.ring .fg {stroke:var(--saffron); stroke-linecap:round; stroke-dasharray: 282.743; stroke-dashoffset:0; transition:stroke-dashoffset .6s ease, stroke .6s ease;}

/* Digits / Flip */
.digits {display:flex; justify-content:center; gap:.4rem; font-size:2.8rem; font-weight:600; font-variant-numeric:tabular-nums;}
.flip-card {position:relative; width:1.8ch; height:2.4em; perspective:800px;}
.flip-card span {position:absolute; inset:0; display:flex; align-items:center; justify-content:center; backface-visibility:hidden; border-radius:.35rem; background:rgba(255,255,255,.15); box-shadow:inset 0 0 0 1px rgba(255,255,255,.25);}
.flip-card .back {transform:rotateX(180deg);} 
.flip-card.flipping {animation:flip 0.7s ease both;}
@keyframes flip {0%{transform:rotateX(0);} 49%{transform:rotateX(-179deg);} 50%{transform:rotateX(-180deg);} 100%{transform:rotateX(-360deg);} }

/* Glow pulse when unit rolls */
.time-unit.pulse {box-shadow:0 0 0 0 rgba(245,182,66,.8); animation:pulseGlow 1s ease;}
@keyframes pulseGlow {0%{box-shadow:0 0 0 0 rgba(245,182,66,.9);} 100%{box-shadow:0 0 0 20px rgba(245,182,66,0);} }

.no-js {font-size:.9rem; margin-top:1rem;}

/* Sections */
section {padding:4.5rem 1.25rem; position:relative;}
.section-inner {max-width:1100px; margin:0 auto;}
#details .event-facts {list-style:none; padding:0; margin:0 0 2rem; display:grid; gap:.65rem;}
#details .event-facts li {background:var(--white); padding:.75rem 1rem; border-radius:var(--radius-sm); box-shadow:var(--shadow); border:1px solid rgba(0,0,0,.05);} 

.map-wrapper {margin-top:1rem;}
.map-ratio {position:relative; width:100%; aspect-ratio:16/9; background:#ddd; border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow);} 
.map-ratio iframe {position:absolute; inset:0; width:100%; height:100%; border:0;}

/* Journey commit timeline */
.journey-timeline {position:relative; display:grid; gap:2.4rem; margin:2.2rem 0 0; padding-left:1.2rem;}
.journey-timeline:before {content:""; position:absolute; left:.35rem; top:0; bottom:0; width:3px; background:linear-gradient(var(--indigo), var(--saffron)); border-radius:4px;}
.commit {display:flex; gap:1rem; position:relative; opacity:0; transform:translateY(25px); transition:var(--transition);}
.commit.in-view {opacity:1; transform:none;}
.commit .node {flex:0 0 2.3rem; height:2.3rem; display:flex; align-items:center; justify-content:center; background:var(--indigo); color:#fff; font-weight:600; border-radius:50%; box-shadow:0 0 0 4px #fff,0 0 0 8px rgba(47,75,138,.25); position:relative; z-index:1; font-size:.85rem;}
.commit-body {background:linear-gradient(135deg,rgba(47,75,138,.06),rgba(245,182,66,.18)), #ffffff; border:1px solid rgba(47,75,138,.28); border-radius:18px; padding:1rem 1.1rem 1.2rem; box-shadow:0 6px 18px -8px rgba(47,75,138,.35); position:relative; flex:1;}
.commit-body:before {content:""; position:absolute; inset:0; border-radius:inherit; padding:1px; background:linear-gradient(135deg, var(--indigo), var(--saffron)); -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite:xor; mask-composite:exclude;}
.commit-body h3 {margin:.1rem 0 .5rem; font-size:1.05rem; background:linear-gradient(90deg,var(--indigo),var(--saffron)); -webkit-background-clip:text; background-clip:text; color:transparent;}
.commit-body .muted {margin:0 0 .7rem; font-size:.75rem; letter-spacing:.35px; line-height:1.35; opacity:.85; color:#2b2b2e;}
.code-snippet {margin:0; background:#0f1725; color:#f8faff; font-size:.7rem; padding:.55rem .7rem; border-radius:10px; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; box-shadow:0 0 0 1px rgba(255,255,255,.08), 0 4px 8px -4px rgba(0,0,0,.4);} 
[data-status="PARALLEL"] .node {background:#8d8d8d;}
[data-status="ACKNOWLEDGED"] .node {background:#4d7cc9;}
[data-status="SYNCHRONIZED"] .node {background:#2f8f68;}
[data-status="MERGING"] .node {background:#d48d23;}
[data-status="DEPLOYED"] .node {background:var(--saffron); color:#583c00;}

@media (min-width:800px){
  .journey-timeline {grid-template-columns:repeat(auto-fit,minmax(360px,1fr)); gap:3rem 2.4rem; padding-left:0;}
  .journey-timeline:before {display:none;}
  .commit {flex-direction:row;}
  .commit .node {box-shadow:0 0 0 4px #fff,0 0 0 8px rgba(245,182,66,.25);}
}

/* Terminal (allow dark background) */
#terminal {background:#111; color:#dfe4ec; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; border-radius:var(--radius); padding:1rem; min-height:280px; box-shadow:var(--shadow); position:relative; overflow:hidden; border:1px solid #222;}
#terminal-output {font-size:.85rem; line-height:1.4; max-height:220px; overflow-y:auto; padding-right:.5rem;}
#terminal-output::-webkit-scrollbar {width:8px;} 
#terminal-output::-webkit-scrollbar-track {background:#161616;} 
#terminal-output::-webkit-scrollbar-thumb {background:#303030; border-radius:4px;} 
.terminal-line {white-space:pre-wrap; word-break:break-word;}
.terminal-input-row {margin-top:.75rem; display:flex; align-items:center; gap:.5rem;}
#terminal-input {flex:1; background:#161616; border:1px solid #333; color:#fff; padding:.55rem .75rem; border-radius:var(--radius-sm); font-size:.85rem; font-family:inherit;}
#terminal-input:focus {outline:none; box-shadow:var(--focus-ring); border-color:var(--saffron);} 
.terminal-hint {font-size:.8rem; opacity:.75; margin-bottom:.75rem;}

/* Modal */
.modal {position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:999;}
.modal[aria-hidden="false"] {display:flex;}
.modal-backdrop {position:absolute; inset:0; background:rgba(0,0,0,.55); backdrop-filter:blur(4px);}
.modal-dialog {position:relative; background:var(--off); color:var(--dark); padding:2rem 2.2rem 2.2rem; border-radius:clamp(16px,2vw,24px); box-shadow:0 12px 40px -10px rgba(0,0,0,.35); max-width:480px; width:90%;}
.modal-close {position:absolute; top:.65rem; right:.65rem; background:transparent; border:none; font-size:1.75rem; line-height:1; cursor:pointer; color:var(--indigo);} 
.modal-close:focus {outline:none; box-shadow:var(--focus-ring);} 
.secret-line {font-family:var(--font-accent); font-size:1.4rem; margin-top:.75rem; color:var(--indigo);} 

/* Gallery */
.gallery-grid {display:grid; gap:1.5rem; grid-template-columns:repeat(auto-fit,minmax(240px,1fr));}
.placeholder-img {background:var(--white); border-radius:var(--radius); padding:.65rem .65rem 1rem; box-shadow:var(--shadow); text-align:center;}
.placeholder-img img {max-width:100%; display:block; border-radius:var(--radius-sm);}
.placeholder-img figcaption {font-size:.75rem; margin-top:.65rem; opacity:.7;}

/* Placeholders removed */

/* Footer */
#footer {background:linear-gradient(135deg,#2F4B8A,#4b69b5 60%,#5b7ddc); color:#e9f1ff; padding:2.75rem 1.25rem 3.5rem; position:relative;}
.footer-inner {max-width:1100px; margin:0 auto; display:flex; flex-wrap:wrap; gap:1.5rem; align-items:center; justify-content:space-between;}
.footer-inner .fineprint {margin:0; font-size:.7rem; letter-spacing:.5px; opacity:.75;}
.replay-btn {background:var(--saffron); border:none; color:#2b240e; font-weight:600; letter-spacing:.5px; padding:.65rem 1rem; border-radius:2rem; cursor:pointer; font-size:.75rem; box-shadow:0 2px 6px -2px rgba(0,0,0,.4);} 
.replay-btn:focus {outline:none; box-shadow:var(--focus-ring);} 

/* Celebrations Layer */
#celebrations-layer {position:fixed; inset:0; pointer-events:none; z-index:40; overflow:hidden; max-width:100%;}
.particle {position:absolute; width:12px; height:12px; top:0; left:0; will-change:transform, opacity;}
.particle.confetti {border-radius:2px;}
.particle.petal {border-radius:50% 50% 45% 55% / 55% 45% 55% 45%; background:var(--petal);}

/* Scroll reveal */
.animate {opacity:0; transform:translateY(30px); transition:opacity .9s ease, transform .9s ease;}
.animate.in-view {opacity:1; transform:none;}

/* Utilities */
.visually-hidden, .sr-only {position:absolute !important; width:1px !important; height:1px !important; padding:0 !important; margin:-1px !important; overflow:hidden !important; clip:rect(0 0 0 0) !important; white-space:nowrap !important; border:0 !important;}

.noscript-box {background:#222; color:#f4f4f4; padding:.75rem 1rem; font-size:.8rem; text-align:center;}

/* Focus visible fallback */
:focus {outline-color:var(--saffron);} 
:focus-visible {outline:2px solid var(--saffron); outline-offset:3px;}

/* Dark Mode */
@media (prefers-color-scheme: dark) {
  body {background:#182234; color:#e5e9ef;}
  #details .event-facts li, .placeholder-img {background:#1f2935; border-color:#2f3d4d;}
  #terminal {background:#0d1117; border-color:#1f2730;}
  .modal-dialog {background:linear-gradient(145deg,#1f2934,#253444); color:#e5e9ef;}
  .secret-line {color:var(--saffron);} 
  .time-unit {background:rgba(255,255,255,.06);} 
  .flip-card span {background:rgba(255,255,255,.1);}
}

/* Responsive tweaks */
@media (min-width:900px) {
  #hero {padding:5rem 2rem 4rem;}
  .digits {font-size:3.4rem;}
}

/* Countdown mobile adjustments */
@media (max-width:520px){
  .countdown-grid {grid-template-columns:repeat(2,minmax(0,1fr));}
  .time-unit {padding:.85rem .6rem 1rem;}
  .digits {font-size:2.1rem;}
  .ring {width:70px; height:70px;}
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  html {scroll-behavior:auto;}
  .animate, .timeline-item {transition:none !important; opacity:1 !important; transform:none !important;}
  .flip-card.flipping {animation:none !important;}
  .time-unit.pulse {animation:none !important;}
  .ring .fg {transition:none !important;}
}

/* Print minimal */
@media print {
  #celebrations-layer, #terminal-section, #gallery, .replay-btn, .countdown-status, svg.ring {display:none !important;}
  #hero {min-height:auto;}
}

/* End of styles */
